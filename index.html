<!-- index.html -->
<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>公園轉盤選擇器</title>
  
  <!-- ✅ iPhone 主畫面圖示 -->
  <link rel="apple-touch-icon" sizes="180x180" href="./icons/icon-180.png">
  <meta name="apple-mobile-web-app-title" content="公園轉盤">
  
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <div class="bg" aria-hidden="true">
    <div class="paper"></div>
  </div>

  <main class="page">
    <section class="card">
      <header class="header">
        <h1>公園轉盤選擇器</h1>
      </header>

      <section class="inputRow">
        <input id="parkInput" type="text" placeholder="輸入公園名稱..." autocomplete="off" />
        <button id="addBtn" class="btn btn-add" type="button" aria-label="加入">
          <span class="btnIcon" aria-hidden="true">
            <svg viewBox="0 0 24 24" fill="none">
              <path d="M12 5v14M5 12h14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </span>
          加入
        </button>
      </section>

      <!-- ✅ 最小 UI 加料：Filters（不改你原排版，只多一行） -->
      <section class="filterRow" aria-label="篩選">
        <div class="filterGroup">
          <label class="filterLabel" for="modeSelect">模式</label>
          <select id="modeSelect" class="filterSelect">
            <option value="all" selected>隨機</option>
            <option value="district">依行政區</option>
            <option value="near">距離我最近</option>
          </select>
        </div>

        <div class="filterGroup" id="districtGroup" hidden>
          <label class="filterLabel" for="districtSelect">行政區</label>
          <select id="districtSelect" class="filterSelect"></select>
        </div>

        <button id="locBtn" class="btn btn-loc" type="button" title="需要定位權限" hidden>
          取得定位
        </button>

        <button id="resetNoRepeatBtn" class="btn btn-reset" type="button" title="清除不重複紀錄">
          重置不重複
        </button>

        <p id="filterHint" class="filterHint" aria-live="polite"></p>
      </section>

      <section id="wheelSection" class="wheelSection hidden">
        <div class="wheelStage">
          <div class="wheelFrame">
            <!-- ✅ 淺綠色箭頭 -->
            <div class="pointer" aria-hidden="true"></div>

            <div id="wheelRotator" class="wheelRotator">
              <svg id="wheelSvg" class="wheelSvg" viewBox="0 0 400 400" aria-label="轉盤"></svg>
              <button id="centerBtn" class="centerBtn" type="button" aria-label="中心按鈕"></button>
            </div>
          </div>
        </div>

        <div class="spinRow">
          <button id="spinBtn" class="btn btn-spin" type="button">
            <span class="btnIcon" aria-hidden="true">
              <svg viewBox="0 0 24 24" fill="none">
                <path d="M8 5l12 7-12 7V5z" fill="currentColor"/>
              </svg>
            </span>
            <span id="spinText">開始轉動！</span>
          </button>

          <button id="btnNewBatch" class="btn btn-batch" type="button">
            換一批
          </button>
        </div>

        <div id="result" class="result hidden" role="status" aria-live="polite">
          <p class="resultHint">今天就去</p>
          <p id="resultName" class="resultName">—</p>

          <!-- ✅ 最小 UI 加料：地圖按鈕 -->
          <a id="mapBtn" class="btn btn-map" href="#" target="_blank" rel="noopener noreferrer" aria-disabled="true">
            打開地圖
          </a>

          <p class="resultHint">玩吧！🎉</p>
        </div>
      </section>

      <section id="emptyState" class="emptyState">
        <p id="emptyText">正在載入公園資料…</p>
      </section>
    </section>
  </main>

  <script src="./app.js" defer></script>
</body>
</html>

